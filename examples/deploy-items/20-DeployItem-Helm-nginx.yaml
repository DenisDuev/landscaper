apiVersion: landscaper.gardener.cloud/v1alpha1
kind: DeployItem
metadata:
  name: my-nginx
spec:

  type: Helm

  importRef:
    name: secret-item1
    namespace: default

  config:
    apiVersion: helm.deployer.landscaper.gardener.cloud/v1alpha1
    kind: ProviderConfiguration

    repository: eu.gcr.io/sap-se-gcp-scp-k8s-dev/charts/nginx-ingress
    version: 0.5.2

    name: test
    namespace: default

    kubeconfig: YXBpVmVyc2lvbjogdjEKY2x1c3RlcnM6Ci0gY2x1c3RlcjoKICAgIGNlcnRpZmljYXRlLWF1dGhvcml0eS1kYXRhOiBMUzB0TFMxQ1JVZEpUaUJEUlZKVVNVWkpRMEZVUlMwdExTMHRDazFKU1VONVJFTkRRV0pEWjBGM1NVSkJaMGxDUVVSQlRrSm5hM0ZvYTJsSE9YY3dRa0ZSYzBaQlJFRldUVkpOZDBWUldVUldVVkZFUlhkd2NtUlhTbXdLWTIwMWJHUkhWbnBOUWpSWVJGUkpkMDFFWTNoTmVrVjRUbFJqZUUweGIxaEVWRTEzVFVSamVFMVVSWGhPVkdONFRURnZkMFpVUlZSTlFrVkhRVEZWUlFwQmVFMUxZVE5XYVZwWVNuVmFXRkpzWTNwRFEwRlRTWGRFVVZsS1MyOWFTV2gyWTA1QlVVVkNRbEZCUkdkblJWQkJSRU5EUVZGdlEyZG5SVUpCVG5CMkNsbHdUbXQ0UkZkRWJXSkxVMmhRVjJoT2RYVTNlbk1yT0RCM2EwTXhhbE52Y1hWWU0xVjZVa3haVW5JeWFVWXZaU3RsV1ZCWWIxWXJNRVpSVDJac1dsY0tWRm8yTkhoYVREbHplbXAyYUUwMlVYRkROVzlFTVhsNlowaHpNbTVzVldKRmRYZFZUazFQVm5KTVRsSjFNREI0T0hKRllVdE1TbFpsVDJjeFVIZDZjQXBITlV0Qk1rMTJlSGh1VkhseFdsUjZMMDVXVDBwUFZTdGhkbU5xV2tWd2VsVnJXVVZ6ZG1SRFFtRnVLMEl3WkhvdlozTjNTSFJwYm1SaWJFbG9WMWcwQ2tVNFJGSXpTa0o2ZFV4TVlXTTFURFZQV25OVE4yWXdLM2QyY1VReVdGZE5ORm94V2s4d2EzaDBkVWhTT0ZaNlEzaGpiV0YxT1dWcFNGbFpjRlZ3VkVZS1JIcG9RbFJDZW1kM05IaHNZMnBXVG0weWQxUmtaM0paVnpWc1pESTBkM2xsZVdsNk9GRlJkRUZCWmxSSFJWRTVVMFZEVnpOb1NWUTRNR2hpTkhnMmFBcHJhelJJYzI4NE1WSnJPRk5XZVdkVFVrWk5RMEYzUlVGQllVMXFUVU5GZDBSbldVUldVakJRUVZGSUwwSkJVVVJCWjB0clRVRTRSMEV4VldSRmQwVkNDaTkzVVVaTlFVMUNRV1k0ZDBSUldVcExiMXBKYUhaalRrRlJSVXhDVVVGRVoyZEZRa0ZJTjNFNGNYZHRSMWR6ZW5GVFNYcEJUWEYwVkdKUU4xTklaR2dLTjNKRlVrUmxhWHBwTjFKQlFVZHRhRkZIYlRKblJ6QjRURWgxY0Nzd0wyMW9OVWxEWjNOM01UVTNaREZEUmpoclkySnpRV3hFUVN0Nk9IQkRNR1pqYVFwT2JXWnRVVVYyVDFwMk1IQkRhWGNyWWtoaVlsSnlWMVpNVTBoeE9HTkRjV2N3Y1hnMlNFWTBTSGd5UW5kU04wTm5kM0ozYTA0NFFXVjNhMWhHYnpWRkNtMDRLekI0S3pCTk5YTjJPR3BFU0Znd1l6TmhVamxUZUc1U2N5c3hjSGhqVTJOSFVHazJjRWRyZG5GbFpGTldORUpEYmxWRWJtOXRiMVp6VEV0bFdtZ0tVa1ZSVDNWV1drdExkU3R0UlcxMmExWlpZV2htZEc5NmEwcExOVXd5VmxKWU15OTROV05VUm5kSE0xaHVSaTkxTjBvM1ExWnhTamxPV0hkbk1IZGhUd3B5UmxKaVVETnRiMFJ3ZVV4eWIxSmhXRlZpWTNVMlEyMDRWRlI0ZW1WNWVWQkJWRXB3VUZCaVFXWkdVVTVDV2xOTWVHVkNTakJtU1RaVWR6MEtMUzB0TFMxRlRrUWdRMFZTVkVsR1NVTkJWRVV0TFMwdExRbz0KICAgIHNlcnZlcjogaHR0cHM6Ly8xMjcuMC4wLjE6NTA0ODgKICBuYW1lOiBraW5kLWtpbmQKY29udGV4dHM6Ci0gY29udGV4dDoKICAgIGNsdXN0ZXI6IGtpbmQta2luZAogICAgdXNlcjoga2luZC1raW5kCiAgbmFtZToga2luZC1raW5kCmN1cnJlbnQtY29udGV4dDoga2luZC1raW5kCmtpbmQ6IENvbmZpZwpwcmVmZXJlbmNlczoge30KdXNlcnM6Ci0gbmFtZToga2luZC1raW5kCiAgdXNlcjoKICAgIGNsaWVudC1jZXJ0aWZpY2F0ZS1kYXRhOiBMUzB0TFMxQ1JVZEpUaUJEUlZKVVNVWkpRMEZVUlMwdExTMHRDazFKU1VNNGFrTkRRV1J4WjBGM1NVSkJaMGxKVkhoc1RuTlViVVp6UjBsM1JGRlpTa3R2V2tsb2RtTk9RVkZGVEVKUlFYZEdWRVZVVFVKRlIwRXhWVVVLUVhoTlMyRXpWbWxhV0VwMVdsaFNiR042UVdWR2R6QjVUVVJCTTAxVVRYaE5WRlV6VFZST1lVWjNNSGxOVkVFelRWUk5lRTFVVlROTmFrSmhUVVJSZUFwR2VrRldRbWRPVmtKQmIxUkViazQxWXpOU2JHSlVjSFJaV0U0d1dsaEtlazFTYTNkR2QxbEVWbEZSUkVWNFFuSmtWMHBzWTIwMWJHUkhWbnBNVjBackNtSlhiSFZOU1VsQ1NXcEJUa0puYTNGb2EybEhPWGN3UWtGUlJVWkJRVTlEUVZFNFFVMUpTVUpEWjB0RFFWRkZRVEV2ZEN0YU1FWkNUelJIVWs5S2JVWUtZalZtZUhNeGRXaHVkbE5FUlRoeFpUVnlaamRXT1d3MmVWcEZNbEJvVmsxeksycDFPRlVyUTFoc2REa3ZMMmRyVDBJMmNXWXlUM2gzYVd3d05XZEthZ3BCU1dsNE5rUktTVkZEWlRoSFRrRnBWRGwzUjFwcFkyVXdMMlZITVRWV1NtTkphMmRUTm5kNVJreFFSbnA0U201SWJsRkVWek55VDNwR1NEUnZlRnA1Q2pWdlUzZHJlVmR0WW1OU1QxRndSV2N5YVc1bVRrNDJhMHRYYmtWcmVtMXpXR3BDWm5SM1NVVkNRMmRwY2psWFZtZFlhakpaUlZCeVEwUlVSbXhqV0V3S1pYRlpka1V6V0dZMVIzVXdkRVZPWlZadk9IaE9hbGR6Y21GNU9EaFhkVE5vYUhJNE1tdHVkWE14UzJOc01GcHVjak56Y1ZWWEwwMVZVa3RsVG05RmR3cFpLek0wWmpVM2VUWklSbXR2UWxSSmF6aFVXRXg1VDAxRGJta3lMM2c1T0hWak5ITmFjV0k1VldsclRXRm9lV0prV0dzMFpqSkJhMWxEYTNacFMzaG1Da2w0VVhscGQwbEVRVkZCUW05NVkzZEtWRUZQUW1kT1ZraFJPRUpCWmpoRlFrRk5RMEpoUVhkRmQxbEVWbEl3YkVKQmQzZERaMWxKUzNkWlFrSlJWVWdLUVhkSmQwUlJXVXBMYjFwSmFIWmpUa0ZSUlV4Q1VVRkVaMmRGUWtGS1dVNVpOak0xTmpZeVdVcFJkalpLTVVGRGRVcFdjSFF6YTB0NmFtTnRlV1pOVFFwcmNUZE1hVnB0Y1dOYVNISXlSQzlrY2tKcVMxRkpZWFEwTUZKWE9UZFZkVFpvTUU1SWVGVllWVmhOTkZSWFJVTnhVbXNyUTNBNVMzQkdhM2RYZUVjdkNuWlJaM295ZFc1eWNWWnliMjl4TW01V1MzUjVlSEJqTDI5d2JUZGhRa2xvZVVoSk0wSTRVV3BLY1cxa1drVnlNRmw0T1hsRmFWbHNRVU5GTlVGc1QxY0tSbU5oUTBWYWJIUjFSVlZEY25GUU1tTjBVRlYzV21oV2RVRm1lVE0wWkRoUE1pdFBXR1J1VmpKd01tY3dOMDExZWpWUGRHOVpUR0ZNWlRjNVNVUnhVUW8yT1ZZMk9YZG9ZWEpaTjFsalNscDRWblZMWkdSMVpIY3JOblowWXpVM09HSjROWGRXYzBFdk9XeGhZamhQSzI1SFdUVjVRa3RKUkdNd2EzbHVUM1k0Q2tsRWNEaHdNSGxXUTJrdmEwZFZhRVJFVUVOd2VFZG5MelpQZUdFNVZtZEdNMjFvV2tvek0xaFJRek5aVkRWbFRUQkdhejBLTFMwdExTMUZUa1FnUTBWU1ZFbEdTVU5CVkVVdExTMHRMUW89CiAgICBjbGllbnQta2V5LWRhdGE6IExTMHRMUzFDUlVkSlRpQlNVMEVnVUZKSlZrRlVSU0JMUlZrdExTMHRMUXBOU1VsRmNGRkpRa0ZCUzBOQlVVVkJNUzkwSzFvd1JrSlBORWRTVDBwdFJtSTFabmh6TVhWb2JuWlRSRVU0Y1dVMWNtWTNWamxzTm5sYVJUSlFhRlpOQ25NcmFuVTRWU3REV0d4ME9TOHZaMnRQUWpaeFpqSlBlSGRwYkRBMVowcHFRVWxwZURaRVNrbFJRMlU0UjA1QmFWUTVkMGRhYVdObE1DOWxSekUxVmtvS1kwbHJaMU0yZDNsR1RGQkdlbmhLYmtodVVVUlhNM0pQZWtaSU5HOTRXbmsxYjFOM2EzbFhiV0pqVWs5UmNFVm5NbWx1Wms1T05tdExWMjVGYTNwdGN3cFlha0ptZEhkSlJVSkRaMmx5T1ZkV1oxaHFNbGxGVUhKRFJGUkdiR05ZVEdWeFdYWkZNMWhtTlVkMU1IUkZUbVZXYnpoNFRtcFhjM0poZVRnNFYzVXpDbWhvY2pneWEyNTFjekZMWTJ3d1dtNXlNM054VlZjdlRWVlNTMlZPYjBWM1dTc3pOR1kxTjNrMlNFWnJiMEpVU1dzNFZGaE1lVTlOUTI1cE1pOTRPVGdLZFdNMGMxcHhZamxWYVd0TllXaDVZbVJZYXpSbU1rRnJXVU5yZG1sTGVHWkplRkY1YVhkSlJFRlJRVUpCYjBsQ1FWRkRVMGsyUmt4NlIwOVFSMEZTYVFvdk56TkNNMFpYTW5adVIwWldTSGs0YWpSVmJFbzJabmh6VkROaU1WWXlWMlJIVFVvclRIQXdibEV2YUU5S1luYzROek5QUjNwSVUwMUhjU3R5WWpWcUNsRTBiM0JsYkZOdFowSTVWRU5aTDBWWGJFSmtTMDEwVEc4emVrRm1LMUJHVXpCWU9URXdjalkyVUVOaFFWZHVLM2x5ZW5KYWFWRXZZV05GZW1wMVRtd0tkRzVNV1dSNkwya3dURGRxTVhObU9WVnhWMllyUjFWSVMxQTFOalZqTDFaT2JIQk9SME5RVm1RMlUzQkZhSE50TlVOWVEzWldNbE5ZV0dKTGEwUjJlZ3A1ZFRSdWVsWnJabmt4WWxVemJERnBlV1p4VTNZNU0zRnVRbFZFTkRWa1owMUpkM2gyZFdkRmNFMUdiak1yV0ZkcmNWTjVRalYyWWpZdlZIbHphMkZ5Q2tNMWNYcEhUMW8wVDFnemNteFFXRkpKVUdocU5FNUxkalJsWVhWSk9FVlNaa3RGVFRSMlJXMU1XazFEVm5WRWRIWnBZV3BUUmpGVU5HaG9lRE5vYlZrS00zUTVUQ3RPYzBKQmIwZENRVTlsVFZoS2RtWTVjRU16WWtwU1NsVm5lVUpzV2tKcFRrUjZSVXREU1hRM01sVjZaSGM1UmpoSU9WSlNVVmN5VGxobU5Bb3djM2hFYUdsUE1UWlpWMjFOZUZOdGMyc3hhbFZ1V0VKcmMxaHFNVGMwWkVoU05rcGFaME55ZFhCS05EVldkelZ4Ym1vMVdFMHJia1JFUmxGaVRFZzRDbFowVlVVMGVWSndMMVpDZFRkNGFIUjJXRk5ITW5CTVUwdDZPRE5KTWtzeE5HWjNWM2RoVlhCVWFWVnpRbFpCWVVwWE0weHVSV3BpUVc5SFFrRlBOMHNLVlRSbE5HOXZlV3hNYTNSbk4wTk9kVU5QVlhKUmFVMU5NelF5ZDNSbEt6TnJaMDgyZW5oVmJWWnpZMUJIV1hONFYybFFiSFIxVFV4SVlqRkZXVFF2TmdwSlozTklZa3A0VTBwRGNIbFNZbXhoYTFsR1NVMURWMFZQWVRFdlpHZHNWblYzVkZWTE15dHhhSGhWVVROalIyUlRTRGR4U1c5NWNEa3lhMEp5ZGtScENsb3hVV1ZFV25wNE5pOWhObHBNZWxsQ2RtRlBlbEZDYlUxVFZqTjBNVEprUTBSWk4yVjBVVkpCYjBkQ1FVOVljR3d5VFc1U1ZIQTFRbmhXVDI5SGRrOEtiQ3RZWm5aVFRFSlhNa0pyTkVKd1MzVmxUM1ZtU21wUE5UUjNLMWR0VldZMmNDOXpVa1owWkVjNU1HSktRV3hVV2tOUk0yaFFPWE5GUVV4NWN6VjNVUXBoU1U5VWVHNWlVVVJrWlRKME0yVldkM1JIVVU5VWJuWkZjMjg0YnpGRmRqQkZRMEZOT1VwTFl6YzNWVU5DUkc1c2IwVkpSR2w0VUVJMldXcGFOekY1Q2tGRmVFSm9Sa2x6TmpJd05XZHhWVUU0VkRGUFQxbGhWa0Z2UjBKQlNubGxkR2RVV2psRWRUbG9PSHBJUTBoelFXa3ZUVXd5V0djeE1VWmpValZZVFZNS1pUQklXa0ZGVWtZdmFuSlllVFZDUWxWWVkydEVlakpDY1VGTVp6TldRM00xYWtaSWMwWlJhbWxFWTFNNWJYQndXR1pDYlRCaVZqVnpXRGMzYTBGaU1RcGFVa2cwZFRSTmFqZFRMME12VlVGc2EydDNlamd5T1VKa09Wa3lNVmhEU0daMlFuTlBZeXRNTWxwSVpHeFlPVXhVWkRObWMyUlJiVTExZGpWU2NIRjJDa05hYWxGclNFdFNRVzlIUVVKVlVGbDBRbkUxVW5SNFZGbFdhazQyY0hGR1dUaGhRbVI0VjJGWU1HMUVOeXRYVUdOUVJGRTVhVGRwYUZkWGFEUm1kblFLYlRsNmVIUmtRVmhQUXpjeVFXMXNNa05vWldOSWVVdDVXVGxyY2tseVMyODVSbTkyWVdwbGNWQTBNVUZhUjBSYVJXaDRNamhMVmpWVFJVSTFNaTlaY0FvNEwwRkxTVmczZFhWdUwzUmpVMGR1Um5ObFMyZDBMMGd5WTBaclZYbHJSREJsVkRFemEyaGplR3hETUZOa1VqTjFVVzEyUzNNNFBRb3RMUzB0TFVWT1JDQlNVMEVnVUZKSlZrRlVSU0JMUlZrdExTMHRMUW89Cg==

    exportsFromManifests:
    - key: ingressClass
      jsonPath: Values.controller.ingressClass
    - key: prometheus.port
      jsonPath: spec.template.metadata.annotations['prometheus\.io/port']
      fromResource:
        apiVersion: apps/v1
        kind: Deployment
        name: test-nginx-ingress
        namespace: default
